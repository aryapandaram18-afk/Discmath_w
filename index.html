<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiscMath Companion - Interactive Discrete Mathematics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="images/logo.svg">
    <link rel="stylesheet" href="index.css">

</head>

<body class="bg-gray-50">
    <!-- Landing Page -->
    <div id="landingPage" class="gradient-bg min-h-screen">
        <!-- Header -->
        <nav class="p-6 relative z-50">
            <div class="flex justify-between items-center max-w-6xl mx-auto">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253">
                            </path>
                        </svg>
                    </div>
                    <span class="text-white text-xl font-semibold">DiscMath Companion</span>
                </div>

                <div class="flex items-center space-x-4 relative z-50">
                    <button onclick="showSignIn();"
                        class="bg-white bg-opacity-20 backdrop-blur-sm text-white px-6 py-2 rounded-xl text-sm font-semibold hover:bg-opacity-30 border border-white border-opacity-30 transform hover:scale-105 transition-all duration-300 flex items-center justify-center space-x-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1">
                            </path>
                        </svg>
                        <span>Sign In</span>
                    </button>
                    <button onclick="showSignUp();"
                        class="bg-white bg-opacity-20 backdrop-blur-sm text-white px-6 py-2 rounded-xl text-sm font-semibold hover:bg-opacity-30 border border-white border-opacity-30 transform hover:scale-105 transition-all duration-300 flex items-center justify-center space-x-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z">
                            </path>
                        </svg>
                        <span>Sign Up</span>
                    </button>
                </div>

            </div>
        </nav>

        <!-- Hero Section -->
        <div class="flex flex-col items-center justify-center min-h-screen px-6 -mt-20 relative z-10">
            <div class="text-center max-w-4xl mx-auto">
                <div class="mb-8">
                    <div
                        class="w-24 h-24 mx-auto mb-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center backdrop-blur-sm border border-white border-opacity-30">
                        <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253">
                            </path>
                        </svg>
                    </div>
                </div>

                <h1 class="text-5xl md:text-7xl font-bold text-white mb-6 slide-in-left">
                    <span class="bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent">
                        DiscMath Companion
                    </span>
                </h1>

                <p class="text-xl md:text-2xl text-blue-100 mb-8 max-w-3xl mx-auto slide-in-right leading-relaxed">
                    Your comprehensive guide to mastering discrete mathematics with interactive learning and practice
                    problems
                </p>


                <!-- Feature highlights -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto fade-in">
                    <div
                        class="bg-white bg-opacity-15 backdrop-blur-md rounded-2xl p-8 border border-white border-opacity-30 hover:bg-opacity-20 transition-all duration-300">
                        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253">
                                </path>
                            </svg>
                        </div>
                        <h3 class="text-white font-bold text-lg mb-3">Interactive Learning</h3>
                        <p class="text-blue-100 leading-relaxed">Comprehensive topics with clear explanations and
                            examples</p>
                    </div>
                    <div
                        class="bg-white bg-opacity-15 backdrop-blur-md rounded-2xl p-8 border border-white border-opacity-30 hover:bg-opacity-20 transition-all duration-300">
                        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-white font-bold text-lg mb-3">Practice Problems</h3>
                        <p class="text-blue-100 leading-relaxed">Test your understanding with carefully crafted problems
                        </p>
                    </div>
                    <div
                        class="bg-white bg-opacity-15 backdrop-blur-md rounded-2xl p-8 border border-white border-opacity-30 hover:bg-opacity-20 transition-all duration-300">
                        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mb-4">
                            <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                                </path>
                            </svg>
                        </div>
                        <h3 class="text-white font-bold text-lg mb-3">Progress Tracking</h3>
                        <p class="text-blue-100 leading-relaxed">Monitor your learning journey and achievements</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Why DiscMath Companion Section -->
        <div class="bg-white py-20">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-gray-900 mb-6">Why Choose DiscMath Companion?</h2>
                    <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                        Discover the key advantages that make learning discrete mathematics more accessible and
                        engaging.
                    </p>
                </div>

                <!-- Key Features Grid -->
                <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16">
                    <div class="text-center fade-in">
                        <div
                            class="w-20 h-20 bg-gradient-to-r from-purple-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 transform hover:scale-110 transition-all duration-300">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253">
                                </path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Focused Learning</h3>
                        <p class="text-gray-600 leading-relaxed">Specifically designed for discrete mathematics students
                            with targeted content.</p>
                    </div>

                    <div class="text-center fade-in" style="animation-delay: 0.1s;">
                        <div
                            class="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 transform hover:scale-110 transition-all duration-300">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Step-by-Step Solutions</h3>
                        <p class="text-gray-600 leading-relaxed">Detailed explanations that help you understand the
                            'why' behind each concept.</p>
                    </div>

                    <div class="text-center fade-in" style="animation-delay: 0.2s;">
                        <div
                            class="w-20 h-20 bg-gradient-to-r from-purple-500 to-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 transform hover:scale-110 transition-all duration-300">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z">
                                </path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-4">Practical Applications</h3>
                        <p class="text-gray-600 leading-relaxed">Connect mathematical theory to real-world programming
                            and computer science.</p>
                    </div>

                    <div class="text-center fade-in" style="animation-delay: 0.3s;">
                        <div
                            class="w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-6 transform hover:scale-110 transition-all duration-300">
                            <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <h3 class="text-xl font-bold text-gray-900 mb-4">User-Friendly Interface</h3>
                        <p class="text-gray-600 leading-relaxed">Clean, intuitive design that makes learning mathematics
                            enjoyable and efficient.</p>
                    </div>
                </div>

                <!-- Problem Statement -->
                <div class="bg-gradient-to-r from-gray-50 to-blue-50 rounded-2xl p-8 lg:p-12">
                    <div class="max-w-4xl mx-auto">
                        <h3 class="text-3xl font-bold text-gray-900 mb-6 text-center">Addressing Common Learning
                            Challenges</h3>
                        <p class="text-lg text-gray-700 mb-8 text-center">
                            DiscMath Companion solves the key problems students face when learning discrete mathematics.
                        </p>

                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white rounded-xl p-6 shadow-sm">
                                <div class="flex items-start space-x-3">
                                    <div
                                        class="w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-gray-900 mb-2">Lack of Focus</h4>
                                        <p class="text-gray-600 text-sm">Existing tools are too broad, not tailored for
                                            discrete math beginners.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white rounded-xl p-6 shadow-sm">
                                <div class="flex items-start space-x-3">
                                    <div
                                        class="w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-gray-900 mb-2">Complex Interfaces</h4>
                                        <p class="text-gray-600 text-sm">Many platforms have overwhelming interfaces
                                            that hinder learning.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white rounded-xl p-6 shadow-sm">
                                <div class="flex items-start space-x-3">
                                    <div
                                        class="w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-gray-900 mb-2">Answer-Only Approach</h4>
                                        <p class="text-gray-600 text-sm">Tools give answers without explaining the
                                            reasoning process.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white rounded-xl p-6 shadow-sm">
                                <div class="flex items-start space-x-3">
                                    <div
                                        class="w-6 h-6 bg-red-100 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                                        <div class="w-2 h-2 bg-red-500 rounded-full"></div>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-gray-900 mb-2">Missing Practical Links</h4>
                                        <p class="text-gray-600 text-sm">Fails to connect concepts to Data Structures
                                            and Algorithms.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-gray-900 text-white py-12">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-8">
                    <div class="flex items-center justify-center space-x-3 mb-4">
                        <div
                            class="w-10 h-10 bg-gradient-to-r from-purple-500 to-blue-600 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253">
                                </path>
                            </svg>
                        </div>
                        <span class="text-xl font-semibold">DiscMath Companion</span>
                    </div>
                    <p class="text-gray-400 mb-6">DiscMath Companion © 2024. A Mini Project by Nanmathi, Arya, Dhrithi &
                        Manikaraj.</p>
                </div>

                <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-8">
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">Privacy Policy</a>
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">Terms of Service</a>
                    <a href="#" class="text-gray-400 hover:text-white transition-colors">Contact Us</a>
                </div>
            </div>
        </footer>
    </div>

    <!-- Dashboard -->
    <div id="dashboardPage" class="hidden min-h-screen bg-gray-50">
        <!-- Sidebar -->
        <div class="fixed left-0 top-0 h-full w-64 sidebar z-40">
            <!-- Logo -->
            <div class="p-6 border-b border-gray-600">
                <div class="flex items-center space-x-3">
                    <div
                        class="w-10 h-10 bg-gradient-to-r from-purple-500 to-blue-600 rounded-lg flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253">
                            </path>
                        </svg>
                    </div>
                    <div>
                        <h2 class="font-semibold text-white">DiscMath</h2>
                        <p class="text-gray-400 text-sm">Companion</p>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="p-4">
                <div class="space-y-1">
                    <a href="#" onclick="showPage('dashboard')"
                        class="sidebar-item active flex items-center space-x-3 p-3 text-white rounded-lg">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6">
                            </path>
                        </svg>
                        <span>Dashboard</span>
                    </a>
                    <a href="#" onclick="showPage('topics')"
                        class="sidebar-item flex items-center space-x-3 p-3 text-gray-300 hover:text-white rounded-lg">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253">
                            </path>
                        </svg>
                        <span>Topics</span>
                    </a>
                    <a href="#" onclick="showPage('formulas')"
                        class="sidebar-item flex items-center space-x-3 p-3 text-gray-300 hover:text-white rounded-lg">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z">
                            </path>
                        </svg>
                        <span>Formulas</span>
                    </a>
                    <a href="#" onclick="showPage('practice')"
                        class="sidebar-item flex items-center space-x-3 p-3 text-gray-300 hover:text-white rounded-lg">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z">
                            </path>
                        </svg>
                        <span>Practice</span>
                    </a>
                    <!-- In the sidebar navigation, add this after the Practice link -->
                    <a href="#" onclick="showPage('progress')"
                        class="sidebar-item flex items-center space-x-3 p-3 text-gray-300 hover:text-white rounded-lg">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z">
                            </path>
                        </svg>
                        <span>Progress</span>
                    </a>
                    <a href="#" onclick="showPage('profile')"
                        class="sidebar-item flex items-center space-x-3 p-3 text-gray-300 hover:text-white rounded-lg">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                        <span>Profile</span>
                    </a>
                </div>
            </nav>

            <!-- User Section -->
            <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-gray-600">
                <div class="flex items-center space-x-3 mb-3">
                    <div
                        class="w-8 h-8 bg-gradient-to-r from-green-400 to-blue-500 rounded-full flex items-center justify-center">
                        <span class="text-white font-semibold text-sm" id="userInitial">U</span>
                    </div>
                    <div>
                        <p class="text-white font-medium text-sm" id="userName">User</p>
                        <p class="text-gray-400 text-xs" id="userProgress">0% Complete</p>
                    </div>
                </div>
                <button onclick="logout()"
                    class="w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-medium">
                    Logout
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="ml-64 min-h-screen">
            <!-- Header -->
            <header class="main-header p-6">
                <div class="flex justify-between items-center">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900" id="pageTitle">Dashboard</h1>
                        <p class="text-gray-600" id="pageSubtitle">Welcome back! Continue your learning journey</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="bg-purple-50 px-4 py-2 rounded-lg">
                            <span class="text-purple-600 font-semibold" id="userScore">Score: 0</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Content -->
            <div id="dashboardContent" class="p-6">
                <!-- Progress Overview -->
                <div class="grid md:grid-cols-3 gap-8 mb-12">
                    <div class="card stats-card p-8 fade-in">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <p class="text-gray-600 text-sm font-semibold uppercase tracking-wide">Topics Completed
                                </p>
                                <p class="text-4xl font-bold text-gray-900 mt-2" id="completedTopics">0/8</p>
                            </div>
                            <div class="icon-container w-16 h-16 flex items-center justify-center">
                                <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-4">
                            <div class="progress-bar h-4 rounded-full transition-all duration-1000 ease-out"
                                style="width: 0%" id="topicProgress"></div>
                        </div>
                        <p class="text-xs text-gray-500 mt-2 font-medium">Complete all topics to master discrete math
                        </p>
                    </div>

                    <div class="card stats-card p-8 fade-in" style="animation-delay: 0.1s">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <p class="text-gray-600 text-sm font-semibold uppercase tracking-wide">Practice Score
                                </p>
                                <p class="text-4xl font-bold text-gray-900 mt-2" id="practiceScore">0</p>
                            </div>
                            <div class="icon-container w-16 h-16 flex items-center justify-center">
                                <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="flex space-x-1">
                                <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
                                <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
                                <div class="w-2 h-2 bg-yellow-400 rounded-full"></div>
                            </div>
                            <p class="text-sm text-gray-500 font-medium">Keep practicing to improve!</p>
                        </div>
                    </div>

                    <div class="card stats-card p-8 fade-in" style="animation-delay: 0.2s">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <p class="text-gray-600 text-sm font-semibold uppercase tracking-wide">Study Streak</p>
                                <p class="text-4xl font-bold text-gray-900 mt-2" id="studyStreak">0 days</p>
                            </div>
                            <div class="icon-container w-16 h-16 flex items-center justify-center">
                                <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z">
                                    </path>
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"></path>
                                </svg>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <div class="w-3 h-3 bg-orange-400 rounded-full"></div>
                            <p class="text-sm text-gray-500 font-medium">Daily learning streak</p>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <button onclick="showPage('topics')" class="card p-8 text-left slide-up">
                        <div class="flex items-center justify-between mb-6">
                            <div class="icon-container w-16 h-16 flex items-center justify-center">
                                <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C20.832 18.477 19.246 18 17.5 18c-1.746 0-3.332.477-4.5 1.253">
                                    </path>
                                </svg>
                            </div>
                            <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                                </path>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-3">Continue Learning</h3>
                        <p class="text-gray-600 text-lg">Explore discrete math topics systematically</p>
                    </button>

                    <button onclick="showPage('practice')" class="card p-8 text-left slide-up"
                        style="animation-delay: 0.1s">
                        <div class="flex items-center justify-between mb-6">
                            <div class="icon-container w-16 h-16 flex items-center justify-center">
                                <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z">
                                    </path>
                                </svg>
                            </div>
                            <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                                </path>
                            </svg>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-3">Practice Problems</h3>
                        <p class="text-gray-600 text-lg">Test your understanding with quizzes</p>
                    </button>
                </div>

                <!-- Recent Activity -->
                <div class="card p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-semibold text-gray-900">Recent Activity</h3>
                        <button onclick="clearRecentActivity()"
                            class="text-red-500 hover:text-red-700 text-sm font-medium flex items-center space-x-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">
                                </path>
                            </svg>
                            <span>Clear All</span>
                        </button>
                    </div>
                    <div id="recentActivity" class="space-y-3">
                        <p class="text-gray-500 text-center py-8">No recent activity. Start learning to see your
                            progress here!</p>
                    </div>
                </div>
            </div>

            <!-- Topics Content -->
            <div id="topicsContent" class="hidden p-6">
                <div class="grid gap-6" id="topicsList">
                    <!-- Topics will be loaded here -->
                </div>
            </div>

            <!-- Formulas Content -->
            <div id="formulasContent" class="hidden p-6">
                <div class="grid lg:grid-cols-2 gap-6" id="formulasList">
                    <!-- Formulas will be loaded here -->
                </div>
            </div>

            <!-- Practice Content -->
            <div id="practiceContent" class="hidden p-6">
                <div class="max-w-4xl mx-auto">
                    <div class="card p-8" id="practiceArea">
                        <div class="text-center">
                            <h2 class="text-2xl font-bold text-gray-900 mb-4">Practice Problems</h2>
                            <p class="text-gray-600 mb-6">Select a topic to start practicing</p>
                            <div class="grid md:grid-cols-2 gap-4" id="practiceTopics">
                                <!-- Practice topics will be loaded here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Progress Content -->
            <div id="progressContent" class="hidden p-6">
                <div class="max-w-6xl mx-auto">
                    <!-- Progress Header -->
                    <div class="mb-8">
                        <h1 class="text-3xl font-bold text-gray-900 mb-2">Learning Progress</h1>
                        <p class="text-gray-600">Track your journey through discrete mathematics</p>
                    </div>

                    <!-- Progress Overview Cards -->
                    <div class="grid md:grid-cols-4 gap-6 mb-8">
                        <!-- Overall Progress -->
                        <div class="progress-dashboard card p-6 relative">
                            <div class="relative z-10">
                                <h3 class="text-white font-semibold mb-4">Overall Progress</h3>
                                <div class="flex items-center justify-between">
                                    <div>
                                        <div class="progress-level" id="overallProgressPercent">0%</div>
                                        <p class="text-blue-100 text-sm">Mastery Level</p>
                                    </div>
                                    <div class="relative w-16 h-16">
                                        <svg class="progress-ring w-16 h-16" width="64" height="64">
                                            <circle class="text-white opacity-20" stroke-width="6" stroke="currentColor"
                                                fill="transparent" r="24" cx="32" cy="32" />
                                            <circle class="progress-ring-circle text-white" stroke-width="6"
                                                stroke-dasharray="150.8" stroke-dashoffset="150.8"
                                                stroke-linecap="round" stroke="currentColor" fill="transparent" r="24"
                                                cx="32" cy="32" id="overallProgressRing" />
                                        </svg>
                                        <div class="absolute inset-0 flex items-center justify-center">
                                            <span class="text-white text-sm font-bold"
                                                id="completedTopicsCount">0/8</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Practice Score -->
                        <div class="card p-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-gray-900">Practice Score</h3>
                                <div class="progress-badge px-3 py-1 rounded-full text-xs font-medium">
                                    Total
                                </div>
                            </div>
                            <div class="text-2xl font-bold text-purple-600 mb-2" id="totalPracticeScore">0</div>
                            <p class="text-gray-600 text-sm">Points earned</p>
                        </div>

                        <!-- Study Streak -->
                        <div class="card p-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-gray-900">Study Streak</h3>
                                <div
                                    class="progress-badge px-3 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-600">
                                    Active
                                </div>
                            </div>
                            <div class="text-2xl font-bold text-orange-600 mb-2" id="currentStreak">0</div>
                            <p class="text-gray-600 text-sm">Consecutive days</p>
                        </div>

                        <!-- Accuracy Rate -->
                        <div class="card p-6">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="font-semibold text-gray-900">Accuracy</h3>
                                <div class="progress-badge px-3 py-1 rounded-full text-xs font-medium"
                                    id="accuracyBadge">
                                    -
                                </div>
                            </div>
                            <div class="text-2xl font-bold text-green-600 mb-2" id="accuracyRate">0%</div>
                            <p class="text-gray-600 text-sm">Practice problems</p>
                        </div>
                    </div>

                    <!-- Learning Journey -->
                    <div class="grid lg:grid-cols-2 gap-8 mb-8">
                        <!-- Topics Progress -->
                        <div class="card p-6">
                            <h3 class="text-xl font-semibold text-gray-900 mb-6">Topics Progress</h3>
                            <div class="space-y-4" id="topicsProgressList">
                                <!-- Topics progress will be loaded here -->
                            </div>
                        </div>

                        <!-- Learning Statistics -->
                        <div class="card p-6">
                            <h3 class="text-xl font-semibold text-gray-900 mb-6">Learning Statistics</h3>
                            <div class="space-y-6">
                                <div>
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-gray-700">Topics Started</span>
                                        <span class="font-semibold" id="topicsStarted">0</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-blue-500 h-2 rounded-full" id="topicsStartedBar"></div>
                                    </div>
                                </div>

                                <div>
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-gray-700">Topics Completed</span>
                                        <span class="font-semibold" id="topicsCompleted">0</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-green-500 h-2 rounded-full" id="topicsCompletedBar"></div>
                                    </div>
                                </div>

                                <div>
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-gray-700">Practice Problems Solved</span>
                                        <span class="font-semibold" id="problemsSolved">0</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-purple-500 h-2 rounded-full" id="problemsSolvedBar"></div>
                                    </div>
                                </div>

                                <div>
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-gray-700">Learning Time</span>
                                        <span class="font-semibold" id="learningTime">0h</span>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-orange-500 h-2 rounded-full" id="learningTimeBar"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Achievements & Milestones -->
                    <div class="grid lg:grid-cols-2 gap-8">
                        <!-- Achievements -->
                        <div class="card p-6">
                            <h3 class="text-xl font-semibold text-gray-900 mb-6">Achievements</h3>
                            <div class="space-y-4" id="achievementsList">
                                <!-- Achievements will be loaded here -->
                            </div>
                        </div>

                        <!-- Learning Milestones -->
                        <div class="card p-6">
                            <h3 class="text-xl font-semibold text-gray-900 mb-6">Learning Milestones</h3>
                            <div class="space-y-4" id="milestonesList">
                                <!-- Milestones will be loaded here -->
                            </div>
                        </div>
                    </div>

                    <!-- Progress Actions -->
                    <div class="mt-8 flex justify-center">
                        <button onclick="exportProgressReport()"
                            class="primary-btn text-white px-6 py-3 rounded-lg font-medium flex items-center space-x-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
                                </path>
                            </svg>
                            <span>Export Progress Report</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Profile Content -->
            <div id="profileContent" class="hidden p-6">
                <div class="max-w-3xl mx-auto">
                    <div class="card p-8 fade-in">

                        <!-- User Header -->
                        <div class="flex items-center space-x-6 mb-8">
                            <!-- Avatar -->
                            <div
                                class="w-20 h-20 bg-gradient-to-r from-purple-500 to-blue-600 rounded-full flex items-center justify-center text-white text-3xl font-bold shadow-lg">
                                <span id="profileInitial">U</span>
                            </div>
                            <!-- Info -->
                            <div>
                                <h2 class="text-2xl font-bold text-gray-900" id="profileDisplayName">User Name</h2>
                                <p class="text-gray-600" id="profileDisplayEmail">user@example.com</p>
                                <p class="text-sm text-gray-400 mt-1">Joined: <span
                                        id="profileJoinDate">2025-10-04</span></p>
                            </div>
                        </div>

                        <!-- Edit Section -->
                        <h3 class="text-xl font-semibold text-gray-800 mb-6 border-b pb-2">Edit Profile</h3>

                        <!-- Input Fields -->
                        <div class="space-y-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Name</label>
                                <input type="text" id="profileName"
                                    class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="profileEmail"
                                    class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                            </div>
                        </div>

                        <!-- Buttons -->
                        <div class="flex justify-end space-x-4 mt-8">
                            <button onclick="resetProfile()"
                                class="px-6 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 font-medium transition">
                                Cancel
                            </button>
                            <button onclick="updateProfile()"
                                class="primary-btn text-white px-6 py-2 rounded-lg font-medium">
                                Save Changes
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal (Moved outside dashboard for visibility) -->
    <div id="loginModal" class="modal-backdrop fixed inset-0 hidden items-center justify-center z-50">
        <div class="modal-content rounded-2xl p-8 max-w-md w-full mx-4 fade-in">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Sign In</h2>
            <form onsubmit="handleLogin(event)" class="space-y-4">
                <div>
                    <input type="text" placeholder="Enter your name" required
                        class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                </div>
                <div>
                    <input type="email" placeholder="Email address" required
                        class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                </div>
                <button type="submit" class="w-full primary-btn text-white py-3 rounded-lg font-medium">
                    Sign In
                </button>
            </form>
            <button onclick="closeLogin()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signUpModal" class="modal-backdrop fixed inset-0 hidden items-center justify-center z-50">
        <div class="modal-content rounded-2xl p-8 max-w-md w-full mx-4 fade-in">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Create Account</h2>
            <form id="signUpForm" onsubmit="handleSignUp(event); return false;" class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <input type="text" id="firstName" placeholder="First Name" required
                            class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                    </div>
                    <div>
                        <input type="text" id="lastName" placeholder="Last Name" required
                            class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                    </div>
                </div>
                <div>
                    <input type="text" id="username" placeholder="Username" required
                        class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                </div>
                <div>
                    <input type="email" id="signUpEmail" placeholder="Email address" required
                        class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                </div>
                <div class="relative">
                    <input type="password" id="signUpPassword" placeholder="Password" required
                        class="w-full border border-gray-300 rounded-lg px-4 py-3 pr-12 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                    <button type="button" onclick="togglePasswordVisibility('signUpPassword', 'signUpPasswordToggle')"
                        class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200">
                        <svg id="signUpPasswordToggle" class="w-5 h-5 transition-transform duration-200" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z">
                            </path>
                        </svg>
                    </button>
                </div>
                <button type="submit" class="w-full primary-btn text-white py-3 rounded-lg font-medium">
                    Create Account
                </button>
            </form>
            <div class="mt-4 text-center">
                <p class="text-gray-600 text-sm">Already have an account?
                    <button onclick="switchToSignIn()" class="text-purple-600 hover:text-purple-800 font-medium">Sign
                        In</button>
                </p>
            </div>
            <button onclick="closeSignUp()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    </div>

    <!-- Sign In Modal -->
    <div id="signInModal" class="modal-backdrop fixed inset-0 hidden items-center justify-center z-50">
        <div class="modal-content rounded-2xl p-8 max-w-md w-full mx-4 fade-in">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">Welcome Back</h2>
            <form onsubmit="handleSignIn(event)" class="space-y-4">
                <div>
                    <input type="text" id="signInEmailUsername" placeholder="Email or Username" required
                        class="w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                </div>
                <div class="relative">
                    <input type="password" id="signInPassword" placeholder="Password" required
                        class="w-full border border-gray-300 rounded-lg px-4 py-3 pr-12 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                    <button type="button" onclick="togglePasswordVisibility('signInPassword', 'signInPasswordToggle')"
                        class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors duration-200">
                        <svg id="signInPasswordToggle" class="w-5 h-5 transition-transform duration-200" fill="none"
                            stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z">
                            </path>
                        </svg>
                    </button>
                </div>
                <button type="submit" class="w-full primary-btn text-white py-3 rounded-lg font-medium">
                    Sign In
                </button>
            </form>
            <div class="mt-4 text-center">
                <p class="text-gray-600 text-sm">Don't have an account?
                    <button onclick="switchToSignUp()" class="text-purple-600 hover:text-purple-800 font-medium">Sign
                        Up</button>
                </p>
            </div>
            <button onclick="closeSignIn()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
    </div>

    <script>
        // Data Structures - Using HashMap (Object) and Arrays for data storage
        class DataStore {
            constructor() {
                // HashMap for user data (simple object-based map simulation if needed, but using native Map)
                this.users = new Map();

                // Map for user activities (email -> array of activities)
                this.userActivities = new Map();

                // Array of topics
                this.topics = [
                    {
                        id: 1,
                        name: "Set Theory",
                        description: "Learn about sets, operations, and relationships",
                        completed: false,
                        viewed: false,
                        formulas: ["A ∪ B", "A ∩ B", "A - B", "A'"],
                        learningContent: {
                            introduction: "Set theory is the foundation of modern mathematics. A set is a collection of distinct objects, called elements or members.",
                            youtubeLink: "https://youtu.be/iTZfATpm0Yk?si=eU4MnOm85KpAtJc0",
                            concepts: [
                                {
                                    title: "What is a Set?",
                                    content: "A set is a well-defined collection of distinct objects. For example, A = {1, 2, 3} is a set containing three numbers.",
                                    example: "Examples: {red, blue, green}, {1, 3, 5, 7}, {apple, banana, orange}"
                                },
                                {
                                    title: "Set Operations",
                                    content: "Sets can be combined using various operations:",
                                    example: "Union (∪): Combines all elements from both sets\nIntersection (∩): Elements common to both sets\nDifference (-): Elements in first set but not second"
                                },
                                {
                                    title: "Venn Diagrams",
                                    content: "Visual representations of sets using circles to show relationships between different sets.",
                                    example: "Two overlapping circles can show union, intersection, and differences between sets A and B."
                                }
                            ],
                            keyPoints: [
                                "Sets contain unique elements (no duplicates)",
                                "Order doesn't matter in sets",
                                "Empty set (∅) contains no elements",
                                "Universal set (U) contains all possible elements"
                            ]
                        },
                        problems: [
                            {
                                question: "If A = {1, 2, 3} and B = {2, 3, 4}, find A ∪ B",
                                options: ["{1, 2, 3, 4}", "{2, 3}", "{1, 4}", "{1, 2, 3, 2, 3, 4}"],
                                correct: 0,
                                explanation: "The union of sets A and B includes all unique elements from both sets: 1,2,3 from A and 2,3,4 from B, resulting in {1,2,3,4}. Duplicates are not repeated."
                            },
                            {
                                question: "What is A ∩ B for the same sets?",
                                options: ["{1, 4}", "{2, 3}", "{1, 2, 3, 4}", "∅"],
                                correct: 1,
                                explanation: "The intersection includes only elements present in both sets: 2 and 3 are common to A and B."
                            },
                            {
                                question: "Find A - B for A={1,2,3}, B={2,3,4}",
                                options: ["{1}", "{2}", "{3}", "∅"],
                                correct: 0,
                                explanation: "Set difference A - B removes all elements of B from A: from {1,2,3}, remove 2 and 3, leaving {1}."
                            },
                            {
                                question: "If U={1,2,3,4,5}, A={1,2}, find A'",
                                options: ["{1,2,3}", "{3,4,5}", "{2,3,4}", "{5}"],
                                correct: 1,
                                explanation: "The complement A' consists of all elements in the universal set U that are not in A: U = {1,2,3,4,5} minus {1,2} = {3,4,5}."
                            },
                            {
                                question: "Which is true?",
                                options: ["{1,2} ⊆ {1,2,3}", "{4} ∈ {1,2,3}", "∅ ⊆ ∅ is false", "Order matters in sets"],
                                correct: 0,
                                explanation: "The subset relation ⊆ means every element of the left set is in the right set. {1,2} ⊆ {1,2,3} is true. {4} is not an element of {1,2,3}, ∅ ⊆ ∅ is true, and order does not matter in sets."
                            }
                        ]
                    },
                    {
                        id: 2,
                        name: "Logic & Proofs",
                        description: "Propositional logic, truth tables, and proof techniques",
                        completed: false,
                        viewed: false,
                        formulas: ["P ∧ Q", "P ∨ Q", "P → Q", "¬P"],
                        learningContent: {
                            introduction: "Logic is the foundation of mathematical reasoning and computer science. It helps us determine what is true or false.",
                            youtubeLink: "https://youtu.be/HIkIqt_ytdc?si=nPo3ODFdYHrip233",
                            concepts: [
                                {
                                    title: "Propositions",
                                    content: "A proposition is a statement that is either true or false, but not both.",
                                    example: "'The sky is blue' is a proposition (true)\n'2 + 2 = 5' is a proposition (false)\n'What time is it?' is NOT a proposition"
                                },
                                {
                                    title: "Logical Operators",
                                    content: "We can combine propositions using logical operators:",
                                    example: "AND (∧): Both must be true\nOR (∨): At least one must be true\nNOT (¬): Opposite truth value\nIMPLIES (→): If P then Q"
                                },
                                {
                                    title: "Truth Tables",
                                    content: "Truth tables show all possible truth values for logical expressions.",
                                    example: "P | Q | P∧Q | P∨Q\nT | T |  T  |  T\nT | F |  F  |  T\nF | T |  F  |  T\nF | F |  F  |  F"
                                }
                            ],
                            keyPoints: [
                                "Every proposition has exactly one truth value",
                                "Logical operators follow specific rules",
                                "Truth tables help verify logical equivalences",
                                "Proofs use logical reasoning to establish truth"
                            ]
                        },
                        problems: [
                            {
                                question: "What is the truth value of (T ∧ F) ∨ T?",
                                options: ["True", "False", "Cannot determine", "Both"],
                                correct: 0,
                                explanation: "First, (T ∧ F) evaluates to False (AND requires both true). Then, False ∨ T evaluates to True (OR requires at least one true)."
                            },
                            {
                                question: "Negation of True?",
                                options: ["True", "False"],
                                correct: 1,
                                explanation: "The negation operator (¬) flips the truth value: ¬True = False."
                            },
                            {
                                question: "If P is true, Q is false, what is P → Q?",
                                options: ["True", "False"],
                                correct: 1,
                                explanation: "Implication (→) is false only when the premise P is true and the conclusion Q is false. Here, that's the case."
                            },
                            {
                                question: "If P=false, Q=false, what is P ∨ Q?",
                                options: ["True", "False"],
                                correct: 1,
                                explanation: "OR (∨) is true if at least one is true, but both false results in False."
                            },
                            {
                                question: "Which is tautology?",
                                options: ["P ∨ ¬P", "P ∧ ¬P", "P → Q", "Q → P"],
                                correct: 0,
                                explanation: "A tautology is always true. P ∨ ¬P (law of excluded middle) is always true regardless of P's value. P ∧ ¬P is always false (contradiction)."
                            }
                        ]
                    },
                    {
                        id: 3,
                        name: "Graph Theory",
                        description: "Vertices, edges, paths, and graph algorithms",
                        completed: false,
                        viewed: false,
                        formulas: ["V - E + F = 2", "Σdeg(v) = 2|E|"],
                        learningContent: {
                            introduction: "Graph theory studies networks of connected objects. It's essential for understanding social networks, computer networks, and many algorithms.",
                            youtubeLink: "https://youtu.be/LFKZLXVO-Dg?si=9P9RrExU4J1sQCEV",
                            concepts: [
                                {
                                    title: "Basic Components",
                                    content: "A graph consists of vertices (nodes) connected by edges (links).",
                                    example: "Vertices: Cities in a map\nEdges: Roads connecting cities\nGraph: The entire road network"
                                },
                                {
                                    title: "Types of Graphs",
                                    content: "Graphs can be directed or undirected, weighted or unweighted.",
                                    example: "Directed: One-way streets\nUndirected: Two-way streets\nWeighted: Roads with distances\nUnweighted: Just connections"
                                },
                                {
                                    title: "Graph Properties",
                                    content: "Important properties include degree, paths, cycles, and connectivity.",
                                    example: "Degree: Number of connections to a vertex\nPath: Route from one vertex to another\nCycle: Path that returns to starting vertex"
                                }
                            ],
                            keyPoints: [
                                "Graphs model relationships between objects",
                                "Degree of vertex = number of incident edges",
                                "Sum of all degrees = 2 × number of edges",
                                "Many real-world problems use graph algorithms"
                            ]
                        },
                        problems: [
                            {
                                question: "In a complete graph with 5 vertices, how many edges are there?",
                                options: ["10", "15", "20", "25"],
                                correct: 0,
                                explanation: "A complete graph Kn has n(n-1)/2 edges, where every pair of vertices is connected. For n=5, 5*4/2 = 10 edges."
                            },
                            {
                                question: "Degree of each vertex in complete graph K4?",
                                options: ["2", "3", "4", "6"],
                                correct: 1,
                                explanation: "In Kn, each vertex connects to (n-1) others. For K4 (n=4), degree = 3."
                            },
                            {
                                question: "In a tree with 7 vertices, edges=?",
                                options: ["6", "7", "8", "5"],
                                correct: 0,
                                explanation: "A tree with n vertices has exactly (n-1) edges and no cycles. For n=7, edges = 6."
                            },
                            {
                                question: "Which is Eulerian?",
                                options: ["All vertices even degree", "All vertices odd degree", "Exactly 2 odd", "None"],
                                correct: 0,
                                explanation: "A graph has an Eulerian circuit if all vertices have even degree. For Eulerian path, exactly 0 or 2 odd degrees."
                            },
                            {
                                question: "Which is planar?",
                                options: ["K3,3", "K5", "K4", "K6"],
                                correct: 2,
                                explanation: "K4 is planar (can be drawn without crossings). K3,3 and K5 are non-planar by Kuratowski's theorem."
                            }

                        ]
                    },
                    {
                        id: 4,
                        name: "Combinatorics",
                        description: "Counting principles, permutations, and combinations",
                        completed: false,
                        viewed: false,
                        formulas: ["P(n,r) = n!/(n-r)!", "C(n,r) = n!/(r!(n-r)!)"],
                        learningContent: {
                            introduction: "Combinatorics is the art of counting. It helps us determine how many ways we can arrange, select, or organize objects.",
                            youtubeLink: "https://youtu.be/ied31kWht7Y?si=Q9Nn_mDz4jsN3TWM",
                            concepts: [
                                {
                                    title: "Fundamental Counting Principle",
                                    content: "If one event can occur in m ways and another in n ways, then both can occur in m × n ways.",
                                    example: "Choosing outfit: 3 shirts × 2 pants = 6 different outfits\nPassword: 26 letters × 10 digits = 260 combinations for 2 characters"
                                },
                                {
                                    title: "Permutations",
                                    content: "Arrangements where order matters. P(n,r) = n!/(n-r)!",
                                    example: "Arranging 3 books from 5: P(5,3) = 5!/(5-3)! = 5!/2! = 60\nFirst place: 5 choices, Second: 4 choices, Third: 3 choices"
                                },
                                {
                                    title: "Combinations",
                                    content: "Selections where order doesn't matter. C(n,r) = n!/(r!(n-r)!)",
                                    example: "Choosing 3 books from 5: C(5,3) = 5!/(3!×2!) = 10\nSame selection regardless of order"
                                }
                            ],
                            keyPoints: [
                                "Use permutations when order matters",
                                "Use combinations when order doesn't matter",
                                "Factorial (n!) = n × (n-1) × ... × 1",
                                "Always identify if repetition is allowed"
                            ]
                        },
                        problems: [
                            {
                                question: "How many ways can you arrange 3 books from 5 books?",
                                options: ["60", "10", "15", "125"],
                                correct: 0,
                                explanation: "This is a permutation since order matters: P(5,3) = 5 × 4 × 3 = 60 ways."
                            },
                            {
                                question: "Choose 3 books from 5?",
                                options: ["60", "10", "15", "20"],
                                correct: 1,
                                explanation: "This is a combination since order doesn't matter: C(5,3) = 10 ways."
                            },
                            {
                                question: "Factorial 4! = ?",
                                options: ["24", "12", "20", "16"],
                                correct: 0,
                                explanation: "n! = n × (n-1) × ... × 1, so 4! = 4 × 3 × 2 × 1 = 24."
                            },
                            {
                                question: "P(6,2) = ?",
                                options: ["30", "36", "15", "12"],
                                correct: 0,
                                explanation: "P(6,2) = 6 × 5 = 30 (arrangements of 2 items from 6)."
                            },
                            {
                                question: "C(6,2) = ?",
                                options: ["15", "20", "10", "30"],
                                correct: 0,
                                explanation: "C(6,2) = 6! / (2! × 4!) = (6×5)/2 = 15 (selections of 2 from 6)."
                            }
                        ]
                    },
                    {
                        id: 5,
                        name: "Number Theory",
                        description: "Prime numbers, divisibility, and modular arithmetic",
                        completed: false,
                        viewed: false,
                        formulas: ["gcd(a,b)", "a ≡ b (mod n)"],
                        learningContent: {
                            introduction: "Study of integers and their properties.",
                            youtubeLink: "https://youtu.be/YcYmbcwmRwQ?si=gG5D1v_gy_c6sivx",
                            concepts: [
                                {
                                    title: "Divisibility",
                                    content: "a divisible by b if a=bk.",
                                    example: "20 divisible by 5"
                                },
                                {
                                    title: "Prime Numbers",
                                    content: "Prime >1 no divisors.",
                                    example: "2,3,5,7"
                                },
                                {
                                    title: "GCD",
                                    content: "Largest integer dividing both.",
                                    example: "gcd(18,24)=6"
                                },
                                {
                                    title: "LCM",
                                    content: "Smallest common multiple.",
                                    example: "lcm(4,6)=12"
                                },
                                {
                                    title: "Modular Arithmetic",
                                    content: "a≡b(mod n).",
                                    example: "17≡5(mod 12)"
                                }
                            ],
                            keyPoints: ["Primes are building blocks", "Euclidean algorithm", "LCM×GCD=product", "Modular arithmetic important"]
                        },
                        problems: [
                            {
                                question: "gcd(24,36)?",
                                options: ["6", "12", "18", "24"],
                                correct: 1,
                                explanation: "Using Euclidean algorithm: gcd(36,24) = gcd(24,36 mod 24=12) = gcd(12,24 mod 12=0) = 12. 12 divides both evenly."
                            },
                            {
                                question: "Which is prime?",
                                options: ["21", "29", "33", "39"],
                                correct: 1,
                                explanation: "29 is prime (greater than 1, no divisors other than 1 and itself). 21=3×7, 33=3×11, 39=3×13."
                            },
                            {
                                question: "If a≡2(mod5), b≡3(mod5), (a+b)mod5?",
                                options: ["0", "1", "4", "5"],
                                correct: 0,
                                explanation: "Modular arithmetic: (a + b) mod 5 = (2 + 3) mod 5 = 5 mod 5 = 0."
                            },
                            {
                                question: "LCM(8,12)?",
                                options: ["16", "24", "48", "96"],
                                correct: 1,
                                explanation: "Prime factors: 8=2^3, 12=2^2×3. LCM takes highest powers: 2^3 × 3 = 24."
                            },
                            {
                                question: "Which congruence true?",
                                options: ["15≡3(mod4)", "20≡3(mod5)", "10≡1(mod2)", "14≡1(mod7)"],
                                correct: 0,
                                explanation: "15 ÷ 4 = 3 remainder 3, so 15 ≡ 3 (mod 4). 20 ≡ 0 (mod 5), 10 ≡ 0 (mod 2), 14 ≡ 0 (mod 7)."
                            }
                        ]
                    },
                    {
                        id: 6,
                        name: "Relations",
                        description: "Binary relations, equivalence, and ordering",
                        completed: false,
                        viewed: false,
                        formulas: ["R ⊆ A × B", "R⁻¹"],
                        problems: []
                    },
                    {
                        id: 7,
                        name: "Functions",
                        description: "Domain, range, injective, surjective functions",
                        completed: false,
                        viewed: false,
                        formulas: ["f: A → B", "f⁻¹"],
                        problems: []
                    },
                    {
                        id: 8,
                        name: "Algorithms",
                        description: "Complexity analysis and basic algorithms",
                        completed: false,
                        viewed: false,
                        formulas: ["O(n)", "Θ(n)", "Ω(n)"],
                        problems: []
                    }
                ];

                // HashMap for formulas by category
                this.formulas = new Map([
                    ['Set Theory', [
                        { name: 'Union', formula: 'A ∪ B', description: 'All elements in A or B or both' },
                        { name: 'Intersection', formula: 'A ∩ B', description: 'Elements common to both A and B' },
                        { name: 'Difference', formula: 'A - B', description: 'Elements in A but not in B' },
                        { name: 'Complement', formula: "A'", description: 'Elements not in A' }
                    ]],
                    ['Logic & Proofs', [
                        { name: 'Conjunction', formula: 'P ∧ Q', description: 'P and Q' },
                        { name: 'Disjunction', formula: 'P ∨ Q', description: 'P or Q' },
                        { name: 'Implication', formula: 'P → Q', description: 'If P then Q' },
                        { name: 'Negation', formula: '¬P', description: 'Not P' }
                    ]],
                    ['Combinatorics', [
                        { name: 'Permutation', formula: 'P(n,r) = n!/(n-r)!', description: 'Arrangements of r items from n items' },
                        { name: 'Combination', formula: 'C(n,r) = n!/(r!(n-r)!)', description: 'Selections of r items from n items' },
                        { name: 'Factorial', formula: 'n! = n × (n-1) × ... × 1', description: 'Product of positive integers up to n' }
                    ]]
                ]);

                // Current user data
                this.currentUser = null;

                // Load persisted data from localStorage (simple JSON object/array storage)
                this.loadFromStorage();
            }

            // Get user-specific topics
            getUserTopics() {
                if (!this.currentUser) return [];
                const userKey = `topics_${this.currentUser.email}`;
                const stored = localStorage.getItem(userKey);
                
                if (stored) {
                    return JSON.parse(stored);
                } else {
                    // For new users, create a fresh copy of topics
                    const freshTopics = JSON.parse(JSON.stringify(this.topics));
                    this.saveUserTopics(freshTopics);
                    return freshTopics;
                }
            }

            // Save user-specific topics
            saveUserTopics(topics) {
                if (!this.currentUser) return;
                const userKey = `topics_${this.currentUser.email}`;
                localStorage.setItem(userKey, JSON.stringify(topics));
            }

            // streak
            initializeStreak() {
                if (!this.currentUser) return;

                const today = new Date().toDateString();
                const lastLogin = this.currentUser.lastLogin ? new Date(this.currentUser.lastLogin).toDateString() : null;

                // Initialize streak if it doesn't exist
                if (this.currentUser.streak === undefined) {
                    this.currentUser.streak = 0;
                }

                // If last login was yesterday, increment streak
                if (lastLogin) {
                    const yesterday = new Date();
                    yesterday.setDate(yesterday.getDate() - 1);

                    if (lastLogin === yesterday.toDateString()) {
                        this.currentUser.streak += 1;
                    } else if (lastLogin !== today) {
                        // Reset streak if missed a day
                        this.currentUser.streak = 0;
                    }
                }

                // Update last login
                this.currentUser.lastLogin = new Date().toISOString();
                this.saveToStorage();
            }

            // Persist data to localStorage using simple JSON serialization
            saveToStorage() {
                try {
                    // Store users as a simple object (email as key, user object as value)
                    const usersObj = Object.fromEntries(this.users);
                    localStorage.setItem('discmath_users', JSON.stringify(usersObj));

                    // Store user activities as object (email -> array)
                    const activitiesObj = Object.fromEntries(this.userActivities);
                    localStorage.setItem('discmath_userActivities', JSON.stringify(activitiesObj));

                    // Store current user email (to restore on load)
                    if (this.currentUser) {
                        localStorage.setItem('discmath_currentUserEmail', this.currentUser.email);
                    }
                } catch (error) {
                    console.error('Failed to save to localStorage:', error);
                }
            }

            // Load data from localStorage
            loadFromStorage() {
                try {
                    // Load users
                    const usersStr = localStorage.getItem('discmath_users');
                    if (usersStr) {
                        const usersObj = JSON.parse(usersStr);
                        this.users = new Map(Object.entries(usersObj));
                    }

                    // Load user activities
                    const activitiesStr = localStorage.getItem('discmath_userActivities');
                    if (activitiesStr) {
                        const activitiesObj = JSON.parse(activitiesStr);
                        this.userActivities = new Map(Object.entries(activitiesObj));
                    }

                    // Restore current user if email is stored
                    const currentEmail = localStorage.getItem('discmath_currentUserEmail');
                    if (currentEmail && this.users.has(currentEmail)) {
                        this.currentUser = this.users.get(currentEmail);
                        this.updateUI();
                        this.updateRecentActivity();
                    }
                } catch (error) {
                    console.error('Failed to load from localStorage:', error);
                }
            }

            // User management methods
            setUser(userData) {
                this.currentUser = {
                    name: userData.name,
                    email: userData.email,
                    score: userData.score || 0,
                    completedTopics: userData.completedTopics || 0,
                    streak: userData.streak || 0,
                    joinDate: userData.joinDate || new Date().toISOString(),
                    lastLogin: new Date().toISOString()
                };
                this.users.set(userData.email, this.currentUser);

                // Initialize topics for new user
                const userTopics = this.getUserTopics();
                this.saveUserTopics(userTopics);

                // Initialize activities for new user
                if (!this.userActivities.has(userData.email)) {
                    this.userActivities.set(userData.email, []);
                }

                this.updateUI();
                this.updateRecentActivity();
                this.saveToStorage();
            }

            // Add activity to user's log
            addActivity(activity) {
                if (!this.currentUser) return;

                let userActs = this.userActivities.get(this.currentUser.email) || [];
                userActs.unshift({
                    ...activity,
                    timestamp: new Date().toISOString()
                });
                if (userActs.length > 10) {
                    userActs.pop(); // Keep only last 10 activities
                }
                this.userActivities.set(this.currentUser.email, userActs);
                this.updateRecentActivity();
                this.saveToStorage();
            }

            completeTopicProblem(topicId, score) {
                const userTopics = this.getUserTopics();
                const topic = userTopics.find(t => t.id === topicId);
                if (topic && this.currentUser) {
                    this.currentUser.score = (this.currentUser.score || 0) + score;

                    if (!topic.completed) {
                        topic.completed = true;
                        this.currentUser.completedTopics = (this.currentUser.completedTopics || 0) + 1;
                        this.saveUserTopics(userTopics);
                    }

                    this.addActivity({
                        type: 'topic_completed',
                        message: `Completed ${topic.name}`,
                        score: score
                    });

                    this.updateUI();
                    this.saveToStorage();
                }
            }

            markTopicViewed(topicId) {
                const userTopics = this.getUserTopics();
                const topic = userTopics.find(t => t.id === topicId);
                if (topic && !topic.viewed) {
                    topic.viewed = true;
                    this.saveUserTopics(userTopics);
                }
            }

            // Update profile (fixed to handle email change properly)
            updateProfile(name, email) {
                if (!this.currentUser) return;

                const oldEmail = this.currentUser.email;

                // Update current user
                this.currentUser.name = name;
                this.currentUser.email = email;

                // Handle users map
                this.users.set(email, this.currentUser);
                if (oldEmail !== email) {
                    this.users.delete(oldEmail);
                }

                // Handle userActivities map
                if (oldEmail !== email) {
                    const oldActs = this.userActivities.get(oldEmail) || [];
                    this.userActivities.set(email, oldActs);
                    this.userActivities.delete(oldEmail);
                }

                this.updateUI();
                this.updateRecentActivity();
                this.saveToStorage();
            }

            // UI Update methods
            updateUI() {
                if (!this.currentUser) return;

                const userName = this.currentUser.name || 'User';
                document.getElementById('userName').textContent = userName;
                document.getElementById('userInitial').textContent = userName.charAt(0).toUpperCase();
                document.getElementById('userScore').textContent = `Score: ${this.currentUser.score || 0}`;
                
                const userTopics = this.getUserTopics();
                const completedTopics = userTopics.filter(topic => topic.completed).length;
                document.getElementById('completedTopics').textContent = `${completedTopics}/8`;
                
                document.getElementById('practiceScore').textContent = this.currentUser.score || 0;
                document.getElementById('studyStreak').textContent = `${this.currentUser.streak || 0} days`;

                const progress = (completedTopics / 8) * 100;
                document.getElementById('topicProgress').style.width = `${progress}%`;
                document.getElementById('userProgress').textContent = `${Math.round(progress)}% Complete`;
            }

            updateRecentActivity() {
                if (!this.currentUser) return;

                const userActs = this.userActivities.get(this.currentUser.email) || [];
                const container = document.getElementById('recentActivity');
                if (userActs.length === 0) {
                    container.innerHTML = '<p class="text-gray-500 text-center py-8">No recent activity. Start learning to see your progress here!</p>';
                    return;
                }

                container.innerHTML = userActs.map(activity => `
                    <div class="flex items-center space-x-3 p-3 bg-gray-50 rounded-lg">
                        <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                            <span class="text-purple-600 text-sm">✓</span>
                        </div>
                        <div class="flex-1">
                            <p class="font-medium text-gray-900">${activity.message}</p>
                            <p class="text-sm text-gray-600">+${activity.score} points</p>
                        </div>
                        <span class="text-xs text-gray-500">${new Date(activity.timestamp).toLocaleDateString()}</span>
                    </div>
                `).join('');
            }
        }

        // Initialize data store
        const dataStore = new DataStore();
        let currentPage = 'dashboard';
        let currentPractice = null;

        // Page titles
        const pageInfo = {
            dashboard: { title: 'Dashboard', subtitle: 'Welcome back! Continue your learning journey' },
            topics: { title: 'Learning Topics', subtitle: 'Explore discrete mathematics concepts' },
            formulas: { title: 'Formula Reference', subtitle: 'Quick reference for important formulas' },
            practice: { title: 'Practice Problems', subtitle: 'Test your understanding with problems' },
            profile: { title: 'Profile Settings', subtitle: 'Manage your account preferences' },
            progress: { title: 'Learning Progress', subtitle: 'Track your learning journey and achievements' }
        };

        // Authentication functions
        function showLogin() {
            document.getElementById('loginModal').classList.remove('hidden');
            document.getElementById('loginModal').classList.add('flex');
        }

        function closeLogin() {
            document.getElementById('loginModal').classList.add('hidden');
            document.getElementById('loginModal').classList.remove('flex');
        }

        // New authentication functions for Sign Up and Sign In
        function showSignUp() {
            const modal = document.getElementById('signUpModal');
            console.log('signUpModal element:', modal);
            if (modal) {
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                console.log('Modal classes after update:', modal.className);
            } else {
                console.error('signUpModal element not found');
            }
        }

        function closeSignUp() {
            document.getElementById('signUpModal').classList.add('hidden');
            document.getElementById('signUpModal').classList.remove('flex');
        }

        function showSignIn() {
            const modal = document.getElementById('signInModal');
            console.log('signInModal element:', modal);
            if (modal) {
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                console.log('Modal classes after update:', modal.className);
            } else {
                console.error('signInModal element not found');
            }
        }

        function closeSignIn() {
            document.getElementById('signInModal').classList.add('hidden');
            document.getElementById('signInModal').classList.remove('flex');
        }

        function switchToSignIn() {
            closeSignUp();
            showSignIn();
        }

        function switchToSignUp() {
            closeSignIn();
            showSignUp();
        }

        // Local Storage Authentication Functions
        function saveUserToStorage(userData) {
            const usersData = localStorage.getItem('discmath_users') || '[]';
            let users;
            try {
                users = JSON.parse(usersData);
                if (!Array.isArray(users)) {
                    users = [];
                }

                // Check if user already exists
                const existingIndex = users.findIndex(user =>
                    user.email === userData.email || user.username === userData.username
                );

                if (existingIndex !== -1) {
                    // Update existing user
                    users[existingIndex] = userData;
                } else {
                    // Add new user
                    users.push(userData);
                }
            } catch (error) {
                console.error('Error parsing users data:', error);
                users = [userData];
            }
            localStorage.setItem('discmath_users', JSON.stringify(users));
        }

        function getUserFromStorage(emailOrUsername, password) {
            const usersData = localStorage.getItem('discmath_users') || '[]';
            let users;
            try {
                users = JSON.parse(usersData);
                if (!Array.isArray(users)) {
                    users = [];
                }
            } catch (error) {
                console.error('Error parsing users data:', error);
                users = [];
            }

            return users.find(user =>
                (user.email === emailOrUsername || user.username === emailOrUsername) &&
                user.password === password
            );
        }

        function setCurrentUser(userData) {
            localStorage.setItem('discmath_current_user', JSON.stringify(userData));
        }

        function getCurrentUser() {
            try {
                return JSON.parse(localStorage.getItem('discmath_current_user') || 'null');
            } catch (error) {
                console.error('Error parsing current user:', error);
                return null;
            }
        }

        function handleSignUp(event) {
            console.log('handleSignUp called - START');

            if (!event) {
                console.error('Event object is null or undefined');
                return false;
            }

            console.log('Event object:', event);
            console.log('Event type:', event.type);
            console.log('Event target:', event.target);

            event.preventDefault();
            console.log('preventDefault called');

            const firstName = document.getElementById('firstName');
            const lastName = document.getElementById('lastName');
            const username = document.getElementById('username');
            const email = document.getElementById('signUpEmail');
            const password = document.getElementById('signUpPassword');

            console.log('Form elements found:', {
                firstName: firstName ? firstName.value : 'NOT FOUND',
                lastName: lastName ? lastName.value : 'NOT FOUND',
                username: username ? username.value : 'NOT FOUND',
                email: email ? email.value : 'NOT FOUND',
                password: password ? password.value : 'NOT FOUND'
            });

            if (!firstName || !lastName || !username || !email || !password) {
                console.error('One or more form elements not found!');
                return false;
            }

            const firstNameVal = firstName.value.trim();
            const lastNameVal = lastName.value.trim();
            const usernameVal = username.value.trim();
            const emailVal = email.value.trim();
            const passwordVal = password.value.trim();

            console.log('Form values:', { firstNameVal, lastNameVal, usernameVal, emailVal, passwordVal });

            // Clear previous error states
            const inputs = event.target.querySelectorAll('input');
            inputs.forEach(input => input.classList.remove('border-red-500'));

            // Validation
            let hasErrors = false;

            if (!firstNameVal || firstNameVal.length < 2) {
                firstName.classList.add('border-red-500');
                showMessage('Please enter a valid first name (at least 2 characters)', 'error');
                hasErrors = true;
            }

            if (!lastNameVal || lastNameVal.length < 2) {
                lastName.classList.add('border-red-500');
                showMessage('Please enter a valid last name (at least 2 characters)', 'error');
                hasErrors = true;
            }

            if (!usernameVal || usernameVal.length < 3) {
                username.classList.add('border-red-500');
                showMessage('Please enter a valid username (at least 3 characters)', 'error');
                hasErrors = true;
            }

            if (!emailVal || !isValidEmail(emailVal)) {
                email.classList.add('border-red-500');
                showMessage('Please enter a valid email address', 'error');
                hasErrors = true;
            }

            if (!passwordVal || passwordVal.length < 6) {
                password.classList.add('border-red-500');
                showMessage('Password must be at least 6 characters long', 'error');
                hasErrors = true;
            }

            console.log('Validation errors:', hasErrors);

            // Check if user already exists
            const existingUsersData = localStorage.getItem('discmath_users') || '[]';
            let existingUsers;
            try {
                existingUsers = JSON.parse(existingUsersData);
                // Ensure existingUsers is an array
                if (!Array.isArray(existingUsers)) {
                    existingUsers = [];
                }
            } catch (error) {
                console.error('Error parsing existing users data:', error);
                existingUsers = [];
            }
            const userExists = existingUsers.find(user => user.email === emailVal || user.username === usernameVal);

            if (userExists) {
                if (userExists.email === emailVal) {
                    email.classList.add('border-red-500');
                    showMessage('An account with this email already exists', 'error');
                } else {
                    username.classList.add('border-red-500');
                    showMessage('This username is already taken', 'error');
                }
                hasErrors = true;
            }

            if (hasErrors) {
                console.log('Stopping due to validation errors');
                return false;
            }

            console.log('Creating user data...');

            // Create user data
            const userData = {
                firstName: firstNameVal,
                lastName: lastNameVal,
                username: usernameVal,
                email: emailVal,
                password: passwordVal,
                createdAt: new Date().toISOString(),
                streak: 0,
                completedTopics: 0,
                totalScore: 0,
                score: 0
            };

            console.log('User data created:', userData);

            // Save to localStorage
            saveUserToStorage(userData);
            setCurrentUser(userData);

            // Initialize user in dataStore
            dataStore.currentUser = userData;
            dataStore.users.set(emailVal, userData);

            dataStore.initializeStreak();

            // Initialize activities for new user
            if (!dataStore.userActivities.has(emailVal)) {
                dataStore.userActivities.set(emailVal, []);
            }

            // UPDATE UI AND ACTIVITIES FOR THE CURRENT USER
            dataStore.updateUI();
            dataStore.updateRecentActivity();

            // Save to dataStore storage
            dataStore.saveToStorage();

            console.log('User saved, showing success message');
            showMessage('Account created successfully! Welcome to DiscMath Companion!', 'success');
            closeSignUp();

            // Switch to dashboard
            setTimeout(() => {
                console.log('Switching to dashboard...');
                switchToDashboard();
            }, 1500);

            console.log('handleSignUp completed successfully');
            return false;
        }

        function handleSignIn(event) {
            event.preventDefault();

            const emailOrUsername = document.getElementById('signInEmailUsername').value.trim();
            const password = document.getElementById('signInPassword').value.trim();

            // Clear previous error states
            const inputs = event.target.querySelectorAll('input');
            inputs.forEach(input => input.classList.remove('border-red-500'));

            // Validation
            let hasErrors = false;

            if (!emailOrUsername) {
                document.getElementById('signInEmailUsername').classList.add('border-red-500');
                showMessage('Please enter your email or username', 'error');
                hasErrors = true;
            }

            if (!password) {
                document.getElementById('signInPassword').classList.add('border-red-500');
                showMessage('Please enter your password', 'error');
                hasErrors = true;
            }

            if (hasErrors) return;

            // Check credentials using both methods
            let user = null;

            // Method 1: Check in localStorage users array
            user = getUserFromStorage(emailOrUsername, password);

            // Method 2: Check in dataStore Map (fallback)
            if (!user) {
                // Check by email
                if (dataStore.users.has(emailOrUsername)) {
                    const potentialUser = dataStore.users.get(emailOrUsername);
                    if (potentialUser.password === password) {
                        user = potentialUser;
                    }
                }
                // Check by username
                if (!user) {
                    for (let [email, userData] of dataStore.users) {
                        if (userData.username === emailOrUsername && userData.password === password) {
                            user = userData;
                            break;
                        }
                    }
                }
            }

            if (!user) {
                document.getElementById('signInEmailUsername').classList.add('border-red-500');
                document.getElementById('signInPassword').classList.add('border-red-500');
                showMessage('Invalid email/username or password', 'error');
                return;
            }

            // Set current user in both systems
            setCurrentUser(user);
            dataStore.currentUser = user;

            // Ensure user exists in dataStore users Map
            if (!dataStore.users.has(user.email)) {
                dataStore.users.set(user.email, user);
            }

            dataStore.initializeStreak();

            // Initialize activities if needed
            if (!dataStore.userActivities.has(user.email)) {
                dataStore.userActivities.set(user.email, []);
            }

            // UPDATE UI AND ACTIVITIES FOR THE CURRENT USER
            dataStore.updateUI();
            dataStore.updateRecentActivity();

            showMessage(`Welcome back, ${user.firstName || user.name}!`, 'success');
            closeSignIn();

            // Switch to dashboard
            setTimeout(() => {
                switchToDashboard();
            }, 1500);
        }

        function switchToDashboard() {
            // Hide landing page and show dashboard using classes
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('dashboardPage').classList.remove('hidden');

            // Reset any display styles
            document.getElementById('landingPage').style.display = '';
            document.getElementById('dashboardPage').style.display = '';

            // UPDATE UI AND ACTIVITIES FOR THE CURRENT USER
            if (dataStore.currentUser) {
                dataStore.updateUI();
                dataStore.updateRecentActivity();
            }

            // Load necessary content
            loadTopics();
            loadFormulas();
            loadPracticeTopics();
        }

        function logout() {
            // Clear current user from dataStore
            dataStore.currentUser = null;

            // Clear current user from localStorage
            localStorage.removeItem('discmath_current_user');
            localStorage.removeItem('discmath_currentUserEmail');

            // Hide dashboard and show landing page using the same method
            document.getElementById('dashboardPage').classList.add('hidden');
            document.getElementById('landingPage').classList.remove('hidden');

            // Reset any display styles that might be overriding the classes
            document.getElementById('dashboardPage').style.display = '';
            document.getElementById('landingPage').style.display = '';

            showMessage('Logged out successfully!', 'success');
        }

        function showDashboard() {
            document.getElementById('landingPage').classList.add('hidden');
            document.getElementById('dashboardPage').classList.remove('hidden');
            loadTopics();
            loadFormulas();
            loadPracticeTopics();
            dataStore.updateRecentActivity();
        }

        // Navigation
        function showPage(pageName) {
            // Hide all content
            const contents = ['dashboardContent', 'topicsContent', 'formulasContent', 'practiceContent', 'profileContent', 'progressContent'];
            contents.forEach(content => {
                document.getElementById(content).classList.add('hidden');
            });

            // Also hide learning content if it exists
            const learningContainer = document.getElementById('learningContent');
            if (learningContainer) {
                learningContainer.classList.add('hidden');
            }

            // Show selected content
            document.getElementById(pageName + 'Content').classList.remove('hidden');

            // Update page info
            const info = pageInfo[pageName];
            document.getElementById('pageTitle').textContent = info.title;
            document.getElementById('pageSubtitle').textContent = info.subtitle;

            // Update sidebar
            document.querySelectorAll('.sidebar-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`[onclick="showPage('${pageName}')"]`).classList.add('active');

            currentPage = pageName;

            // Load content based on the page
            if (pageName === 'topics') {
                loadTopics();
            } else if (pageName === 'formulas') {
                loadFormulas();
            } else if (pageName === 'practice') {
                loadPracticeTopics();
            } else if (pageName === 'progress') {
                updateProgressDashboard();
            } else if (pageName === 'profile' && dataStore.currentUser) {
                loadProfileData();
            }
        }

        // Load profile data
        function loadProfileData() {
            if (!dataStore.currentUser) return;

            const user = dataStore.currentUser;

            // Format join date
            const joinDate = user.createdAt ?
                new Date(user.createdAt).toISOString().split('T')[0] :
                new Date().toISOString().split('T')[0];

            // Get display name (use firstName + lastName if available, otherwise fallback to name)
            const displayName = user.firstName && user.lastName ?
                `${user.firstName} ${user.lastName}` :
                user.name || 'User';

            // Update profile display elements
            document.getElementById('profileDisplayName').textContent = displayName;
            document.getElementById('profileDisplayEmail').textContent = user.email;
            document.getElementById('profileJoinDate').textContent = joinDate;
            document.getElementById('profileInitial').textContent = displayName.charAt(0).toUpperCase();

            // Update form fields
            document.getElementById('profileName').value = displayName;
            document.getElementById('profileEmail').value = user.email;
        }

        // Load topics
        function loadTopics() {
            if (!dataStore.currentUser) return;
            
            const userTopics = dataStore.getUserTopics();
            const container = document.getElementById('topicsList');
            container.innerHTML = userTopics.map(topic => `
                <div class="card topic-card p-6">
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <div class="flex items-center gap-3 mb-2">
                                <h3 class="text-xl font-semibold text-gray-900">${topic.name}</h3>
                                ${topic.completed ? '<span class="text-green-500 text-sm">✓ Completed</span>' : ''}
                            </div>
                            <p class="text-gray-600 mb-4">${topic.description}</p>
                            <div class="flex flex-wrap gap-2">
                                ${topic.formulas.map(formula => `
                                    <span class="formula-highlight px-3 py-1 rounded-lg text-sm">${formula}</span>
                                `).join('')}
                            </div>
                        </div>
                        <div class="flex gap-2 ml-4">
                            <button onclick="learnTopic(${topic.id})" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-medium">
                                Learn
                            </button>
                            <button onclick="startTopicPractice(${topic.id})" class="primary-btn text-white px-4 py-2 rounded-lg font-medium">
                                ${topic.completed ? 'Review' : 'Practice'}
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Load formulas
        function loadFormulas() {
            const container = document.getElementById('formulasList');
            let html = '';

            dataStore.formulas.forEach((formulas, category) => {
                html += `
                    <div class="card p-6">
                        <h3 class="text-xl font-semibold text-purple-600 mb-4">${category}</h3>
                        <div class="space-y-3">
                            ${formulas.map(item => `
                                <div class="formula-highlight p-4 rounded-lg">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="font-semibold text-gray-900">${item.name}</span>
                                        <code class="text-purple-600 font-mono text-lg">${item.formula}</code>
                                    </div>
                                    <p class="text-gray-600 text-sm">${item.description}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        function loadPracticeTopics() {
            const container = document.getElementById('practiceTopics');
            if (!container) return;

            const userTopics = dataStore.getUserTopics();
            container.innerHTML = userTopics.filter(topic => topic.problems && topic.problems.length > 0).map(topic => `
        <button onclick="startPractice(${topic.id})" class="card p-6 text-left hover:scale-105 transition-all duration-300">
            <div class="flex items-center justify-between mb-4">
                <h4 class="font-semibold text-gray-900 text-lg">${topic.name}</h4>
                <span class="bg-purple-100 text-purple-600 px-3 py-1 rounded-full text-sm font-medium">
                    ${topic.problems.length} problems
                </span>
            </div>
            <p class="text-gray-600 mb-4">${topic.description}</p>
            <div class="flex items-center text-sm text-gray-500">
                <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span>~${Math.ceil(topic.problems.length * 2)} min</span>
            </div>
        </button>
    `).join('');

            // If no practice topics available, show message
            if (userTopics.filter(topic => topic.problems && topic.problems.length > 0).length === 0) {
                container.innerHTML = `
            <div class="col-span-2 text-center py-12">
                <div class="w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
                    <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                    </svg>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-2">No Practice Problems Available</h3>
                <p class="text-gray-600">Practice problems for topics are coming soon!</p>
            </div>
        `;
            }
        }

        // Learning function
        function learnTopic(topicId) {
            const userTopics = dataStore.getUserTopics();
            const topic = userTopics.find(t => t.id === topicId);
            if (!topic || !topic.learningContent) {
                showMessage('Learning content for this topic is coming soon!', 'info');
                return;
            }

            dataStore.markTopicViewed(topicId);
            showLearningContent(topic);
        }

        function showLearningContent(topic) {
            // Hide all content sections
            const contents = ['dashboardContent', 'topicsContent', 'formulasContent', 'practiceContent', 'profileContent', 'progressContent'];
            contents.forEach(content => {
                document.getElementById(content).classList.add('hidden');
            });

            // Update page info
            document.getElementById('pageTitle').textContent = `Learning: ${topic.name}`;
            document.getElementById('pageSubtitle').textContent = 'Master the concepts step by step';

            // Create learning content
            const learningHTML = `
                <div class="max-w-4xl mx-auto">
                    <!-- Back Button -->
                    <button onclick="showPage('topics')" class="mb-6 flex items-center space-x-2 text-purple-600 hover:text-purple-700 font-medium">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                        </svg>
                        <span>Back to Topics</span>
                    </button>
                    
                    <!-- Introduction -->
                    <div class="card p-8 mb-8">
                        <h2 class="text-3xl font-bold text-gray-900 mb-4">${topic.name}</h2>
                        <p class="text-lg text-gray-700 leading-relaxed">${topic.learningContent.introduction}</p>
                    </div>
                    
                    
                    <!-- Concepts -->
                    <div class="space-y-6 mb-8">
                        ${topic.learningContent.concepts.map((concept, index) => `
                            <div class="card p-6 fade-in" style="animation-delay: ${index * 0.1}s">
                                <h3 class="text-xl font-semibold text-purple-600 mb-4">${concept.title}</h3>
                                <p class="text-gray-700 mb-4 leading-relaxed">${concept.content}</p>
                                <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg">
                                    <h4 class="font-semibold text-blue-800 mb-2">Example:</h4>
                                    <pre class="text-blue-700 text-sm whitespace-pre-wrap font-mono">${concept.example}</pre>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <!-- Key Points -->
                    <div class="card p-6 mb-8">
                        <h3 class="text-xl font-semibold text-green-600 mb-4">🔑 Key Points to Remember</h3>
                        <ul class="space-y-3">
                            ${topic.learningContent.keyPoints.map(point => `
                                <li class="flex items-start space-x-3">
                                    <div class="w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"></div>
                                    <span class="text-gray-700">${point}</span>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                    
                    
                    <!-- Action Buttons -->
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="startTopicPractice(${topic.id})" class="primary-btn text-white px-8 py-3 rounded-lg font-medium flex items-center justify-center space-x-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
                            </svg>
                            <span>Practice Problems</span>
                        </button>
                        <button onclick="showPage('formulas')" class="bg-gray-500 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-medium flex items-center justify-center space-x-2">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                            </svg>
                            <span>View Formulas</span>
                        </button>
                    </div>
                </div>
            `;

            // Create or update learning content container
            let learningContainer = document.getElementById('learningContent');
            if (!learningContainer) {
                learningContainer = document.createElement('div');
                learningContainer.id = 'learningContent';
                learningContainer.className = 'p-6';
                document.querySelector('.ml-64').appendChild(learningContainer);
            }

            learningContainer.innerHTML = learningHTML;
            learningContainer.classList.remove('hidden');

            // Mark as viewed
            dataStore.addActivity({
                type: 'topic_viewed',
                message: `Studied ${topic.name}`,
                score: 5
            });
        }

        // Practice functions
        function startTopicPractice(topicId) {
            const userTopics = dataStore.getUserTopics();
            const topic = userTopics.find(t => t.id === topicId);
            if (topic.problems.length > 0) {
                showPage('practice');
                startPractice(topicId);
            } else {
                showMessage('Practice problems for this topic are coming soon!', 'info');
            }
        }

        function startPractice(topicId) {
            console.log('Starting practice for topic:', topicId);

            const userTopics = dataStore.getUserTopics();
            const topic = userTopics.find(t => t.id === topicId);
            if (!topic) {
                console.error('Topic not found:', topicId);
                showMessage('Topic not found!', 'error');
                return;
            }

            if (!topic.problems || topic.problems.length === 0) {
                console.log('No problems for topic:', topic.name);
                showMessage('No practice problems available for this topic yet.', 'info');
                return;
            }

            console.log('Found topic:', topic.name, 'with problems:', topic.problems.length);

            currentPractice = {
                topicId: topicId,
                currentQuestion: 0,
                score: 0,
                answers: [],
                topicName: topic.name
            };

            showQuestion();
        }

        function showQuestion() {
            if (!currentPractice) {
                console.error('No current practice session');
                return;
            }

            const userTopics = dataStore.getUserTopics();
            const topic = userTopics.find(t => t.id === currentPractice.topicId);
            if (!topic || !topic.problems || topic.problems.length === 0) {
                console.error('Topic or problems not found for topic ID:', currentPractice.topicId);
                showMessage('Practice problems not available for this topic.', 'error');
                return;
            }

            const question = topic.problems[currentPractice.currentQuestion];
            if (!question) {
                console.error('Question not found at index:', currentPractice.currentQuestion);
                return;
            }

            console.log('Showing question for topic:', topic.name, 'Question:', currentPractice.currentQuestion + 1);

            document.getElementById('practiceArea').innerHTML = `
        <div class="max-w-2xl mx-auto">
            <div class="flex justify-between items-center mb-6">
                <div>
                    <h2 class="text-2xl font-bold text-gray-900">${topic.name} Practice</h2>
                    <p class="text-gray-600">${topic.description}</p>
                </div>
                <span class="text-gray-600 bg-gray-100 px-3 py-1 rounded-full">Question ${currentPractice.currentQuestion + 1} of ${topic.problems.length}</span>
            </div>
            
            <div class="card p-6 mb-8">
                <h3 class="text-lg font-semibold text-gray-900 mb-6">${question.question}</h3>
                <div class="space-y-3" id="optionsContainer">
                    ${question.options.map((option, index) => `
                        <button onclick="selectAnswer(${index})" class="w-full text-left p-4 border-2 border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-all duration-200 answer-option">
                            <span class="font-medium text-purple-600">${String.fromCharCode(65 + index)}.</span> 
                            <span class="ml-2">${option}</span>
                        </button>
                    `).join('')}
                </div>
            </div>
            
            <div class="flex justify-between items-center">
                <div class="text-gray-600 font-medium">
                    Score: <span class="text-purple-600">${currentPractice.score}</span> points
                </div>
                
                <button onclick="nextQuestion()" id="nextButton" class="primary-btn text-white px-6 py-2 rounded-lg font-medium hidden">
                    ${currentPractice.currentQuestion === topic.problems.length - 1 ? 'Finish Practice' : 'Next Question'}
                </button>
            </div>
        </div>
    `;

            console.log('Question displayed successfully');
        }

        function selectAnswer(selectedIndex) {
            const userTopics = dataStore.getUserTopics();
            const topic = userTopics.find(t => t.id === currentPractice.topicId);
            const question = topic.problems[currentPractice.currentQuestion];
            const isCorrect = selectedIndex === question.correct;

            // Highlight selected answer
            const options = document.querySelectorAll('.answer-option');
            options.forEach((option, index) => {
                if (index === selectedIndex) {
                    option.classList.add(isCorrect ? 'correct' : 'wrong');
                }
                if (index === question.correct && !isCorrect) {
                    option.classList.add('correct');
                }
                option.style.pointerEvents = 'none';
            });

            currentPractice.answers.push(selectedIndex);
            if (isCorrect) {
                currentPractice.score += 10;
            }

            // Show explanation only if wrong
            if (!isCorrect) {
                const optionsContainer = document.getElementById('optionsContainer');
                const explanationDiv = document.createElement('div');
                explanationDiv.className = 'mt-4 p-4 bg-red-50 border-l-4 border-red-400 rounded-r-lg';
                explanationDiv.innerHTML = `
            <h4 class="font-semibold text-red-800 mb-2">Why is this wrong?</h4>
            <p class="text-red-700 text-sm">${question.explanation}</p>
        `;
                optionsContainer.insertAdjacentElement('afterend', explanationDiv);
            }

            // Show next button instead of auto-advancing
            const nextButton = document.getElementById('nextButton');
            if (nextButton) {
                nextButton.classList.remove('hidden');
            }

            // Update score display
            const scoreElement = document.querySelector('.flex.justify-between.items-center .text-gray-600');
            if (scoreElement) {
                scoreElement.textContent = `Score: ${currentPractice.score}/${(currentPractice.currentQuestion + 1) * 10}`;
            }
        }

        function nextQuestion() {
            const userTopics = dataStore.getUserTopics();
            const topic = userTopics.find(t => t.id === currentPractice.topicId);

            currentPractice.currentQuestion++;
            if (currentPractice.currentQuestion < topic.problems.length) {
                showQuestion();
            } else {
                finishPractice();
            }
        }

        function finishPractice() {
            const userTopics = dataStore.getUserTopics();
            const topic = userTopics.find(t => t.id === currentPractice.topicId);
            const totalQuestions = topic.problems.length;
            const correctAnswers = currentPractice.answers.filter((answer, index) =>
                answer === topic.problems[index].correct
            ).length;

            // Calculate final score (10 points per correct answer)
            const finalScore = correctAnswers * 10;

            // Update user progress and score
            dataStore.completeTopicProblem(currentPractice.topicId, finalScore);

            document.getElementById('practiceArea').innerHTML = `
        <div class="text-center max-w-md mx-auto">
            <div class="w-20 h-20 mx-auto mb-4 bg-gradient-to-r ${correctAnswers === totalQuestions ? 'from-green-400 to-blue-500' : 'from-purple-400 to-pink-500'} rounded-full flex items-center justify-center">
                <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="${correctAnswers === totalQuestions ? 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z' : 'M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5'}"></path>
                </svg>
            </div>
            <h2 class="text-2xl font-bold text-gray-900 mb-4">Practice Complete!</h2>
            <p class="text-gray-600 mb-6">You've completed <span class="font-semibold">${topic.name}</span> practice</p>
            <div class="bg-gray-50 rounded-lg p-6 mb-6">
                <div class="text-3xl font-bold text-purple-600 mb-2">${correctAnswers}/${totalQuestions}</div>
                <p class="text-gray-600">Correct Answers</p>
                <div class="text-xl font-semibold text-green-600 mt-2">+${finalScore} Points</div>
                <div class="text-sm text-gray-500 mt-2">Accuracy: ${Math.round((correctAnswers / totalQuestions) * 100)}%</div>
            </div>
            <div class="space-y-3">
                <button onclick="startPractice(${currentPractice.topicId})" class="w-full primary-btn text-white py-3 rounded-lg font-medium">
                    Try Again
                </button>
                <button onclick="showPage('topics')" class="w-full border border-gray-300 hover:bg-gray-50 text-gray-700 py-3 rounded-lg font-medium">
                    Back to All Topics
                </button>
            </div>
        </div>
    `;

            currentPractice = null;
        }

        // Profile functions
        function updateProfile() {
            if (!dataStore.currentUser) return;

            const name = document.getElementById('profileName').value.trim();
            const email = document.getElementById('profileEmail').value.trim();

            // Validation
            if (!name || name.length < 2) {
                showMessage('Please enter a valid name (at least 2 characters)', 'error');
                return;
            }

            if (!email || !isValidEmail(email)) {
                showMessage('Please enter a valid email address', 'error');
                return;
            }

            // Update using DataStore method
            dataStore.updateProfile(name, email);

            // Update profile display elements
            document.getElementById('profileDisplayName').textContent = name;
            document.getElementById('profileDisplayEmail').textContent = email;
            document.getElementById('profileInitial').textContent = name.charAt(0).toUpperCase();

            showMessage('Profile updated successfully!', 'success');
        }

        function resetProfile() {
            if (dataStore.currentUser) {
                document.getElementById('profileName').value = dataStore.currentUser.name;
                document.getElementById('profileEmail').value = dataStore.currentUser.email;
            }
            showMessage('Changes cancelled', 'info');
        }

        // Clear recent activity function
        function clearRecentActivity() {
            if (!dataStore.currentUser || !confirm('Are you sure you want to clear all recent activity? This cannot be undone.')) {
                return;
            }
            dataStore.userActivities.set(dataStore.currentUser.email, []);
            dataStore.updateRecentActivity();
            dataStore.saveToStorage();
            showMessage('Recent activity cleared!', 'success');
        }

        // Progress tracking functions
        function updateProgressDashboard() {
            if (!dataStore.currentUser) return;

            const user = dataStore.currentUser;
            const userTopics = dataStore.getUserTopics();
            const totalTopics = userTopics.length;
            const completedTopics = userTopics.filter(topic => topic.completed).length;
            const startedTopics = userTopics.filter(topic => topic.viewed).length;
            const progressPercent = Math.round((completedTopics / totalTopics) * 100);

            // Update overall progress
            document.getElementById('overallProgressPercent').textContent = `${progressPercent}%`;
            document.getElementById('completedTopicsCount').textContent = `${completedTopics}/${totalTopics}`;

            // Update progress ring
            const circumference = 2 * Math.PI * 24;
            const offset = circumference - (progressPercent / 100) * circumference;
            const progressRing = document.getElementById('overallProgressRing');
            if (progressRing) {
                progressRing.style.strokeDasharray = `${circumference} ${circumference}`;
                progressRing.style.strokeDashoffset = offset;
            }

            // Update other metrics
            document.getElementById('totalPracticeScore').textContent = user.score || 0;
            document.getElementById('currentStreak').textContent = user.streak || 0;

            // Calculate accuracy
            const accuracy = calculateAccuracy();
            document.getElementById('accuracyRate').textContent = `${accuracy}%`;

            // Update accuracy badge
            const accuracyBadge = document.getElementById('accuracyBadge');
            if (accuracy >= 80) {
                accuracyBadge.className = 'progress-badge px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-600';
                accuracyBadge.textContent = 'Excellent';
            } else if (accuracy >= 60) {
                accuracyBadge.className = 'progress-badge px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-600';
                accuracyBadge.textContent = 'Good';
            } else {
                accuracyBadge.className = 'progress-badge px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-600';
                accuracyBadge.textContent = 'Needs Work';
            }

            // Update learning statistics
            updateLearningStatistics(startedTopics, completedTopics, totalTopics);

            // Update topics progress
            updateTopicsProgress();

            // Update achievements
            updateAchievements();

            // Update milestones
            updateMilestones();
        }

        function updateLearningStatistics(started, completed, total) {
            document.getElementById('topicsStarted').textContent = `${started}/${total}`;
            document.getElementById('topicsCompleted').textContent = `${completed}/${total}`;

            // Calculate problems solved (estimate based on score)
            const problemsSolved = Math.floor((dataStore.currentUser.score || 0) / 10);
            document.getElementById('problemsSolved').textContent = problemsSolved;

            // Estimate learning time (1 hour per topic started + 30 min per completed topic)
            const learningHours = started * 1 + completed * 0.5;
            document.getElementById('learningTime').textContent = `${learningHours.toFixed(1)}h`;

            // Update progress bars
            document.getElementById('topicsStartedBar').style.width = `${(started / total) * 100}%`;
            document.getElementById('topicsCompletedBar').style.width = `${(completed / total) * 100}%`;
            document.getElementById('problemsSolvedBar').style.width = `${Math.min(100, (problemsSolved / 50) * 100)}%`;
            document.getElementById('learningTimeBar').style.width = `${Math.min(100, (learningHours / 20) * 100)}%`;
        }

        function calculateAccuracy() {
            const user = dataStore.currentUser;
            if (!user || user.score === 0) return 0;

            const userTopics = dataStore.getUserTopics();
            const completedTopics = userTopics.filter(topic => topic.completed).length;
            const maxPossibleScore = completedTopics * 50;

            if (maxPossibleScore === 0) return 0;

            return Math.min(100, Math.round((user.score / maxPossibleScore) * 100));
        }

        function updateTopicsProgress() {
            const container = document.getElementById('topicsProgressList');
            if (!container || !dataStore.currentUser) return;

            const userTopics = dataStore.getUserTopics();
            
            container.innerHTML = userTopics.map(topic => {
                const statusClass = topic.completed ? 'completed' :
                    topic.viewed ? 'in-progress' : 'not-started';
                const statusText = topic.completed ? 'Completed' :
                    topic.viewed ? 'In Progress' : 'Not Started';
                const statusColor = topic.completed ? 'text-green-600' :
                    topic.viewed ? 'text-yellow-600' : 'text-gray-500';

                return `
            <div class="progress-topic-item ${statusClass} p-4 rounded-lg">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center">
                            <span class="text-gray-600 font-semibold">${topic.id}</span>
                        </div>
                        <div>
                            <h4 class="font-semibold text-gray-900">${topic.name}</h4>
                            <p class="text-gray-600 text-sm">${topic.description}</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="${statusColor} font-medium">${statusText}</span>
                        <div class="w-24 bg-gray-200 rounded-full h-2">
                            <div class="bg-${topic.completed ? 'green' : topic.viewed ? 'yellow' : 'gray'}-500 h-2 rounded-full transition-all duration-500" 
                                  style="width: ${topic.completed ? '100' : topic.viewed ? '50' : '0'}%"></div>
                        </div>
                    </div>
                </div>
            </div>
        `;
            }).join('');
        }

        function updateAchievements() {
            const container = document.getElementById('achievementsList');
            if (!container || !dataStore.currentUser) return;

            const user = dataStore.currentUser;
            const userTopics = dataStore.getUserTopics();
            const completedTopics = userTopics.filter(topic => topic.completed).length;
            const totalTopics = userTopics.length;

            const achievements = [
                {
                    id: 1,
                    name: 'First Steps',
                    description: 'Complete your first topic',
                    icon: '🚀',
                    unlocked: completedTopics >= 1,
                    progress: completedTopics >= 1 ? 100 : 0
                },
                {
                    id: 2,
                    name: 'Halfway There',
                    description: 'Complete 50% of topics',
                    icon: '🎯',
                    unlocked: completedTopics >= totalTopics / 2,
                    progress: Math.min(100, (completedTopics / (totalTopics / 2)) * 100)
                },
                {
                    id: 3,
                    name: 'Practice Master',
                    description: 'Score 1000+ points',
                    icon: '🏆',
                    unlocked: (user.score || 0) >= 1000,
                    progress: Math.min(100, ((user.score || 0) / 1000) * 100)
                },
                {
                    id: 4,
                    name: 'Consistent Learner',
                    description: '7-day study streak',
                    icon: '🔥',
                    unlocked: (user.streak || 0) >= 7,
                    progress: Math.min(100, ((user.streak || 0) / 7) * 100)
                },
                {
                    id: 5,
                    name: 'Discrete Math Pro',
                    description: 'Complete all topics',
                    icon: '⭐',
                    unlocked: completedTopics === totalTopics,
                    progress: Math.min(100, (completedTopics / totalTopics) * 100)
                },
                {
                    id: 6,
                    name: 'Accuracy Champion',
                    description: 'Achieve 90%+ accuracy',
                    icon: '🎯',
                    unlocked: calculateAccuracy() >= 90,
                    progress: Math.min(100, calculateAccuracy())
                }
            ];

            container.innerHTML = achievements.map(achievement => `
        <div class="progress-achievement p-4 rounded-lg ${achievement.unlocked ? '' : 'achievement-locked'}">
            <div class="flex items-center space-x-3 mb-3">
                <div class="text-2xl">${achievement.icon}</div>
                <div>
                    <h4 class="font-semibold text-gray-900 ${achievement.unlocked ? '' : 'text-gray-500'}">${achievement.name}</h4>
                    <p class="text-gray-600 text-sm">${achievement.description}</p>
                </div>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-2">
                <div class="bg-green-500 h-2 rounded-full transition-all duration-500" 
                      style="width: ${achievement.progress}%"></div>
            </div>
            <div class="flex justify-between items-center mt-2">
                <span class="text-xs text-gray-500">${achievement.unlocked ? 'Unlocked' : 'Locked'}</span>
                <span class="text-xs font-medium">${Math.round(achievement.progress)}%</span>
            </div>
        </div>
    `).join('');
        }

        function updateMilestones() {
            const container = document.getElementById('milestonesList');
            if (!container) return;

            const user = dataStore.currentUser;
            const userTopics = dataStore.getUserTopics();
            const completedTopics = userTopics.filter(topic => topic.completed).length;
            const totalTopics = userTopics.length;

            const milestones = [
                { name: 'Complete Set Theory', completed: userTopics[0]?.completed },
                { name: 'Complete Logic & Proofs', completed: userTopics[1]?.completed },
                { name: 'Score 500 Points', completed: (user.score || 0) >= 500 },
                { name: '3-Day Streak', completed: (user.streak || 0) >= 3 },
                { name: 'Complete All Topics', completed: completedTopics === totalTopics }
            ];

            container.innerHTML = milestones.map(milestone => `
        <div class="flex items-center justify-between p-3 border-b border-gray-200 last:border-b-0">
            <div class="flex items-center space-x-3">
                <div class="w-6 h-6 rounded-full flex items-center justify-center ${milestone.completed ? 'bg-green-500 text-white' : 'bg-gray-200 text-gray-400'
                }">
                    ${milestone.completed ? '✓' : ''}
                </div>
                <span class="${milestone.completed ? 'text-gray-900' : 'text-gray-500'}">${milestone.name}</span>
            </div>
            <span class="text-sm ${milestone.completed ? 'text-green-600' : 'text-gray-400'}">
                ${milestone.completed ? 'Completed' : 'Pending'}
            </span>
        </div>
    `).join('');
        }

        function exportProgressReport() {
            if (!dataStore.currentUser) return;

            const user = dataStore.currentUser;
            const userTopics = dataStore.getUserTopics();
            const completedTopics = userTopics.filter(topic => topic.completed).length;
            const totalTopics = userTopics.length;
            const progressPercent = Math.round((completedTopics / totalTopics) * 100);

            const report = `
DiscMath Companion - Progress Report
====================================

Student: ${user.name || 'User'}
Email: ${user.email}
Report Date: ${new Date().toLocaleDateString()}

OVERALL PROGRESS
----------------
Completion: ${progressPercent}% (${completedTopics}/${totalTopics} topics)
Total Score: ${user.score || 0} points
Study Streak: ${user.streak || 0} days
Accuracy Rate: ${calculateAccuracy()}%

TOPICS PROGRESS
---------------
${userTopics.map(topic =>
                `${topic.completed ? '✓' : topic.viewed ? '→' : '○'} ${topic.name} - ${topic.completed ? 'Completed' : topic.viewed ? 'In Progress' : 'Not Started'}`
            ).join('\n')}

ACHIEVEMENTS
------------
${userTopics.filter(t => t.completed).length >= 1 ? '✓ First Steps - Complete your first topic' : '○ First Steps'}
${userTopics.filter(t => t.completed).length >= totalTopics / 2 ? '✓ Halfway There - Complete 50% of topics' : '○ Halfway There'}
${(user.score || 0) >= 1000 ? '✓ Practice Master - Score 1000+ points' : '○ Practice Master'}
${(user.streak || 0) >= 7 ? '✓ Consistent Learner - 7-day study streak' : '○ Consistent Learner'}

Keep up the great work! Continue your discrete mathematics journey.
    `.trim();

            // Create and download the report as a text file
            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `discmath-progress-report-${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showMessage('Progress report exported successfully!', 'success');
        }

        // Utility functions
        function showMessage(message, type = 'info') {
            const messageDiv = document.createElement('div');
            messageDiv.className = `fixed top-4 right-4 px-6 py-3 rounded-lg text-white font-medium z-50 ${type === 'success' ? 'success-message' :
                type === 'error' ? 'error-message' :
                    'bg-blue-500'
                }`;
            messageDiv.textContent = message;

            document.body.appendChild(messageDiv);

            setTimeout(() => {
                messageDiv.remove();
            }, 3000);
        }

        function isValidEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }

        // Close modal when clicking outside
        document.getElementById('loginModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeLogin();
            }
        });

        // Toggle password visibility
        function togglePasswordVisibility(inputId, iconId) {
            const passwordInput = document.getElementById(inputId);
            const eyeIcon = document.getElementById(iconId);

            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                // Change to eye-off icon
                eyeIcon.innerHTML = `
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path>
                `;
                eyeIcon.classList.add('rotate-12');
            } else {
                passwordInput.type = 'password';
                // Change back to eye icon
                eyeIcon.innerHTML = `
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                `;
                eyeIcon.classList.remove('rotate-12');
            }
        }

        // Close Sign Up modal when clicking outside
        document.getElementById('signUpModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeSignUp();
            }
        });

        // Close Sign In modal when clicking outside
        document.getElementById('signInModal').addEventListener('click', function (e) {
            if (e.target === this) {
                closeSignIn();
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function () {
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });

            // Check if user is already logged in using both methods
            let currentUser = getCurrentUser();

            if (!currentUser) {
                // Fallback: check dataStore currentUser
                currentUser = dataStore.currentUser;
            }

            if (currentUser) {
                // Ensure user exists in dataStore
                if (!dataStore.users.has(currentUser.email)) {
                    dataStore.users.set(currentUser.email, currentUser);
                }
                dataStore.currentUser = currentUser;

                dataStore.initializeStreak();

                // Initialize activities if needed
                if (!dataStore.userActivities.has(currentUser.email)) {
                    dataStore.userActivities.set(currentUser.email, []);
                }

                switchToDashboard();
            }
        });
    </script>
</body>

</html>
